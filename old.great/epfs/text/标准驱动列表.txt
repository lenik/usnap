

EPFS: 标准驱动(空间驱动)和标准过滤(结构驱动)


- 标准空间驱动:

	- 内存驱动
		- 进程内
			. 驱动程序将自身.dll所在进程空间映射至 EPFS，
			  当 EPFS 挂到操作系统上时, driver.dll 可能与 kernel.exe 共享进程空间，
			  因此进程内驱动可能意义不大。
		- 进程外
			.
		- 文件映射 (虚拟内存)
		- 远程映射
			- 远程是泛指，包括接在互联网上的，以及设备的存储空间
			- 这里的远程也可以使用目标存储特定的驱动，比如
				- 网络动态装配驱动 (整合空间过滤驱动)
				- 特定设备的驱动
		. 之所以作为内存驱动有特殊的意义。
		  内存驱动意味着 EPFS 客户可以直接在进程内通过指针等直接操作 EPFS。

	- 复合驱动
		. 底层驱动为一般空间驱动, 高层驱动遵守专门的高层驱动协议。
		.
	- 操作系统反向驱动
		- 存储媒体空间驱动
		- 设备空间驱动 [依赖操作系统]
	- 远程驱动
		- 互联网驱动
		- 设备空间驱动 [直接控制]
	- 导出驱动
	- 支持驱动



- 标准结构过滤

	- 复合过滤
		. 结合多种过滤驱动, 并能够控制结合方法及优先级等
	- 操作系统反向驱动
		- 操作系统可用的文件系统, 对URL的解析与转换 \\computer\device\...
		- 整合空间
		- 非整合空间
	- 文件结构渗透
		. 各种文件类型动态解开
		- 格式文件
		- 整合空间原始文件系统结构渗透
	- 导出过滤 (X@A过滤)
		- Ring-3 二进制实现 (VC)
		- COM实现 (VB)
		- 脚本实现 (Script)
	- 支持过滤
		- 状态支持
			. 状态必须放在上层, 以便下层过滤不必考虑状态.
			  状态支持层对过滤输出进行部分屏蔽以避免递归.
		- 安全支持
			. 安全支持放在上层, 对过滤结果进行权限检查.
		- 可靠支持
			. 可靠支持完成诸如伪删除等具有可恢复性质的操作, 并与日志支持相结合.
		- 日志支持
			. 日志支持放在安全和可靠支持下层, 以提供日志查询服务.


-